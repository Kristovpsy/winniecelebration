<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Celebrating Winnie Lai-Solarin - Retirement & 60th Birthday</title>
    <meta name="description" content="Join us in celebrating Winnie Lai-Solarin's retirement and 60th birthday! Share your messages and photos for this special milestone.">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Celebrating Winnie Lai-Solarin - Retirement & 60th Birthday">
    <meta property="og:description" content="You are most highly/respectfully INVITED to partake in the participation of Celebration of our DEAR colleague WINNIE LAI SOLARIN as scheduled above. The LAI SOLARIN family will love to have your BIRTHDAY MESSAGES sent to https://winnieis60.vercel.app/ on or before May 15, 2025.">
    <meta property="og:image" content="https://winnieis60.vercel.app/images/thumbnail.jpg">
    <meta property="og:url" content="https://winnieis60.vercel.app/">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Celebrating Winnie Lai-Solarin">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        /* Framer-inspired design system with colors inspired by Winnie's attire */
        :root {
            --primary: #ff7f50;
            --secondary: #FF4500;
            --accent: #d97706;
            --background: #f8f5f0;
            --card: #ffffff;
            --text: #333333;
            --text-light: #666666;
            --spacing-xs: 8px;
            --spacing-sm: 16px;
            --spacing-md: 24px;
            --spacing-lg: 32px;
            --spacing-xl: 48px;
            --border-radius-sm: 8px;
            --border-radius-md: 16px;
            --border-radius-lg: 24px;
            --shadow-sm: 0px 4px 12px rgba(0, 0, 0, 0.05);
            --shadow-md: 0px 6px 16px rgba(0, 0, 0, 0.08);
            --shadow-lg: 0px 8px 24px rgba(0, 0, 0, 0.12);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--background);
            color: var(--text);
            line-height: 1.8;
        }

        h1, h2, h3, h4 {
            font-weight: 600;
            line-height: 1.2;
        }

        h1 { font-size: 2.5rem; }
        h2 { font-size: 2rem; }
        h3 { font-size: 1.5rem; }

        h1, h2, h3 {
            letter-spacing: 1px;
        }

        .frame {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--spacing-md);
        }

        .stack {
            display: flex;
            flex-direction: column;
        }

        .stack > * + * {
            margin-top: var(--spacing-md);
        }

        .stack-lg > * + * {
            margin-top: var(--spacing-lg);
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: var(--spacing-md);
        }

        .grid-sm {
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        }

        .hero {
            background: linear-gradient(120deg, var(--primary), var(--secondary));
            padding: var(--spacing-xl) var(--spacing-md);
            color: white;
            text-align: center;
            border-radius: 0 0 var(--border-radius-lg) var(--border-radius-lg);
            position: relative;
            overflow: hidden;
            animation: fadeIn 1s ease-out;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
            pointer-events: none;
        }

        .hero h1 {
            margin-bottom: var(--spacing-xs);
        }

        .card {
            background-color: var(--card);
            border-radius: var(--border-radius-md);
            padding: var(--spacing-md);
            box-shadow: var(--shadow-md);
            transition: var(--transition);
        }

        .card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
        }

        .section {
            padding: var(--spacing-lg) 0;
        }

        .section-title {
            text-align: center;
            margin-bottom: var(--spacing-lg);
            position: relative;
            color: var(--primary);
        }

        .section-title::after {
            content: '';
            display: block;
            width: 60px;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            margin: var(--spacing-xs) auto 0;
            border-radius: 2px;
        }

        .button {
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--border-radius-sm);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: inline-block;
            text-align: center;
        }

        .button:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-sm);
        }

        .input {
            width: 100%;
            padding: var(--spacing-sm);
            border: 1px solid #e1e1e1;
            border-radius: var(--border-radius-sm);
            font-family: inherit;
            font-size: 1rem;
            transition: var(--transition);
        }

        .input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(139, 58, 98, 0.2);
        }

        .textarea {
            min-height: 120px;
            resize: vertical;
        }

        .label {
            display: block;
            margin-bottom: var(--spacing-xs);
            font-weight: 500;
            color: var(--text);
        }

        .form-group {
            margin-bottom: var(--spacing-md);
        }

        .qr-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: var(--spacing-lg);
            background: linear-gradient(120deg, var(--primary), var(--secondary));
            color: white;
            border-radius: var(--border-radius-md);
            box-shadow: var(--shadow-lg);
        }

        #qrcode {
            margin: var(--spacing-md) 0;
            padding: var(--spacing-sm);
            background: white;
            border-radius: var(--border-radius-sm);
        }

        .countdown-container {
            display: flex;
            justify-content: center;
            gap: var(--spacing-sm);
            margin: var(--spacing-md) 0;
            flex-wrap: wrap;
            background: var(--card);
            padding: var(--spacing-md);
            border-radius: var(--border-radius-md);
            box-shadow: var(--shadow-md);
        }

        .countdown-item {
            background-color: var(--card);
            border-radius: var(--border-radius-sm);
            padding: var(--spacing-sm);
            min-width: 80px;
            text-align: center;
            box-shadow: var(--shadow-sm);
        }

        .countdown-number {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
            line-height: 1;
        }

        .countdown-label {
            font-size: 0.8rem;
            text-transform: uppercase;
            color: var(--text-light);
        }

        .gallery-item {
            border-radius: var(--border-radius-md);
            overflow: hidden;
            box-shadow: var(--shadow-sm);
            position: relative;
            aspect-ratio: 1 / 1;
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            transition: transform 0.3s ease;
        }

        .gallery-item:hover img {
            transform: scale(1.05);
        }

        .gallery-item.fallback::after {
            content: 'Image not found';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: var(--text-light);
            font-size: 1rem;
            text-align: center;
        }

        .wish-card {
            height: 100%;
        }

        .wish-card h3 {
            color: var(--primary);
            margin-bottom: var(--spacing-xs);
        }

        .wish-card p {
            color: var(--text-light);
            font-style: italic;
        }

        .guest-photo {
            max-width: 100%;
            max-height: 200px;
            object-fit: cover;
            border-radius: var(--border-radius-sm);
            margin-top: var(--spacing-xs);
        }

        .african-pattern {
            background-image: linear-gradient(rgba(255, 255, 255, 0.92), rgba(255, 255, 255, 0.92)), 
                              url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%238b3a62' fill-opacity='0.15'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }

        footer {
            text-align: center;
            padding: var(--spacing-lg);
            background-color: var(--primary);
            color: white;
            margin-top: 3rem;
            border-top: 4px solid var(--secondary);
        }

        .animate-in {
            animation: fadeIn 0.6s ease-out forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 768px) {
            h1 { font-size: 2rem; }
            h2 { font-size: 1.5rem; }
            h3 { font-size: 1.2rem; }
            .grid {
                grid-template-columns: 1fr;
            }
            iframe {
                width: 100%;
                height: 600px;
            }
        }
    </style>
</head>
<body>
    <div class="hero animate-in">
        <h1>Celebrating Winnie Lai-Solarin</h1>
        <h2>Happy Retirement & 60th Birthday!</h2>
        <p>A new chapter begins...</p>
    </div>

    <div class="frame">
        <section class="section stack-lg">
            <div class="card animate-in african-pattern">
                <div style="text-align: center;">
                    <h2>Dear Winnie,</h2>
                    <p>As you embark on this wonderful new journey of retirement and celebrate six decades of an amazing life, we want to honor you with this collection of well-wishes from colleagues, friends, and family.</p>
                    <p>Your dedication, wisdom, and kindness have touched so many lives. May this next chapter be filled with joy, relaxation, and new adventures!</p>
                </div>
            </div>

            <div class="stack">
                <h2 class="section-title">Countdown to Celebration</h2>
                <div class="countdown-container" id="countdown">
                    <div class="countdown-item">
                        <div class="countdown-number" id="days">00</div>
                        <div class="countdown-label">Days</div>
                    </div>
                    <div class="countdown-item">
                        <div class="countdown-number" id="hours">00</div>
                        <div class="countdown-label">Hours</div>
                    </div>
                    <div class="countdown-item">
                        <div class="countdown-number" id="minutes">00</div>
                        <div class="countdown-label">Minutes</div>
                    </div>
                    <div class="countdown-item">
                        <div class="countdown-number" id="seconds">00</div>
                        <div class="countdown-label">Seconds</div>
                    </div>
                </div>
            </div>

            <div class="qr-container animate-in">
                <h3>Share Your Wishes</h3>
                <p>Scan this QR code to leave a message or upload a photo for Winnie's celebration!</p>
                <div id="qrcode"></div>
                <p style="color: var(--text-light); font-size: 0.9rem;">You can also use the form below to submit your message directly</p>
            </div>

            <div class="stack">
                <h2 class="section-title">Sign the Guestbook</h2>
                <div class="card">
                    <iframe src="https://docs.google.com/forms/d/e/1FAIpQLSdSLMKdnzXhFCjKOvjAmU4o2ycytd7dk2I0NVcEoVnWrFTP8A/viewform?embedded=true" width="100%" height="507" frameborder="0" marginheight="0" marginwidth="0">Loading…</iframe>
                </div>
            </div>

            <div class="stack">
                <h2 class="section-title">Messages for Winnie</h2>
                <div id="wishesContainer" class="stack"></div>
            </div>

            <div class="stack">
                <h2 class="section-title">Through the Years</h2>
                <div class="grid grid-sm">
                    <div class="gallery-item" id="photo1">
                        <img src="/images/image1.jpg" alt="Winnie Photo 1">
                    </div>
                    <div class="gallery-item" id="photo2">
                        <img src="/images/image2.jpg" alt="Winnie Photo 2">
                    </div>
                    <div class="gallery-item" id="photo3">
                        <img src="/images/image3.jpg" alt="Winnie Photo 3">
                    </div>
                    <div class="gallery-item" id="photo4">
                        <img src="/images/image4.jpg" alt="Winnie Photo 4">
                    </div>
                </div>
            </div>
        </section>
    </div>

    <footer>
        <p>With love from all your friends, family & colleagues</p>
        <p>© 2025 - Celebrating Winnie Lai-Solarin</p>
    </footer>

    <script>
    // Create QR code pointing to the Google Form
    new QRCode(document.getElementById("qrcode"), {
        text: "https://docs.google.com/forms/d/e/1FAIpQLSdSLMKdnzXhFCjKOvjAmU4o2ycytd7dk2I0NVcEoVnWrFTP8A/viewform?usp=sharing",
        width: 180,
        height: 180,
        colorDark: "#8b3a62",
        colorLight: "#ffffff",
        correctLevel: QRCode.CorrectLevel.H
    });

    // Google Sheets API URL
    const API_URL = 'https://script.google.com/macros/s/AKfycbx_0RIa5r0L72agP-tXe2Biy6shD8PDhpdoTKIZY_tx4WV8H5HJVGEczXxPIvw9IalGtw/exec';

    // Display messages from Google Sheets
    const displayMessages = () => {
        const container = document.getElementById('wishesContainer');
        container.innerHTML = '<p>Loading wishes...</p>';

        fetch(API_URL, { method: 'GET', mode: 'cors' })
            .then(res => {
                if (!res.ok) throw new Error(`HTTP ${res.status}: ${res.statusText}`);
                return res.json();
            })
            .then(wishes => {
                container.innerHTML = wishes.length ? '' : '<p>No wishes yet. Be the first to share!</p>';
                wishes.forEach(msg => {
                    const card = document.createElement('div');
                    card.className = 'card wish-card animate-in';
                    card.innerHTML = `
                        <h3>${msg.name}</h3>
                        <p>"${msg.message}"</p>
                        ${msg.photo ? `<img src="${msg.photo}" alt="Guest photo" class="guest-photo">` : ''}
                    `;
                    container.appendChild(card);
                });
            })
            .catch(err => {
                console.error('Error fetching wishes:', err);
                container.innerHTML = '<p>Unable to load wishes. Please try again later.</p>';
            });
    };

    // Initial render
    displayMessages();

    // Countdown timer
    const countdownDate = new Date("May 15, 2025 12:00:00 GMT+0100");

    function updateCountdown() {
        const now = new Date().getTime();
        const distance = countdownDate - now;

        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);

        document.getElementById("days").innerHTML = String(days).padStart(2, '0');
        document.getElementById("hours").innerHTML = String(hours).padStart(2, '0');
        document.getElementById("minutes").innerHTML = String(minutes).padStart(2, '0');
        document.getElementById("seconds").innerHTML = String(seconds).padStart(2, '0');

        if (distance < 0) {
            clearInterval(timer);
            document.getElementById("countdown").innerHTML = "<p>The celebration has begun!</p>";
        }
    }

    const timer = setInterval(updateCountdown, 1000);
    updateCountdown();

    // Gallery image loading with error handling
    window.addEventListener('DOMContentLoaded', () => {
        const galleryImages = [
            { id: 'photo1', src: '/images/image1.jpg', alt: 'Winnie Photo 1' },
            { id: 'photo2', src: '/images/image2.jpg', alt: 'Winnie Photo 2' },
            { id: 'photo3', src: '/images/image3.jpg', alt: 'Winnie Photo 3' },
            { id: 'photo4', src: '/images/image4.jpg', alt: 'Winnie Photo 4' }
        ];

        galleryImages.forEach(item => {
            const container = document.getElementById(item.id);
            if (container) {
                const img = container.querySelector('img');
                if (img) {
                    img.src = item.src;
                    img.alt = item.alt;
                    // Add error handling for failed image loads
                    img.onerror = () => {
                        console.error(`Failed to load image: ${item.src}`);
                        container.classList.add('fallback');
                        img.style.display = 'none';
                    };
                } else {
                    console.error(`No img element found in container #${item.id}`);
                }
            } else {
                console.error(`Container #${item.id} not found`);
            }
        });

        const cards = document.querySelectorAll('.animate-in');
        cards.forEach((card, index) => {
            setTimeout(() => {
                card.style.opacity = '1';
                card.style.transform = 'translateY(0)';
            }, 100 * index);
        });
    });
    </script>
</body>
</html>
